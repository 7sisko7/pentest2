

function getDomainValues(domainName, status, domainPrice) {
	var quantity = "1";
	var domainStatus = "Backorder";
	if(status == "Buy It Now") { domainStatus = "BuyItNow" }
	if(status == "In Auction") { domainStatus = "Auction" }
	if(status == "Register") { domainStatus = "Registration" }
	var minBidAmount = domainPrice.replace(/\$/g,'');

	var domainValues = [];
	domainValues.push(domainName);
	domainValues.push(domainStatus);
	domainValues.push(quantity);
	domainValues.push(minBidAmount);
	
	return domainValues;
}

function logPageView() {
	var pageName = document.title;
	var pageUrl = window.location.href;
	var eventPayload = {
	    "eventName": "page view",
	    "eventType": "pageview",
	    "attributes": {
	        "page": {
                "friendlyName": pageName,
                "canonicalURL": pageUrl
            }
	    }
	};
	trackEvent(eventPayload);
}

function logSearch(searchTerm, searchType) {
	var eventPayload = {
	    "eventName": "domain search",
	    "eventType": "custom",
	    "attributes": {
	        "search": {
	            "type": searchType,
	            "term": searchTerm
	        }
	    }
	};
	trackEvent(eventPayload);
}

function logUserLogin(username, status) {
	var eventPayload = {
	    "eventName": "user login",
	    "eventType": "custom",
	    "attributes": {
	        "user": {
	            "loginId": username, 
	            "loginMethod": "traditional",
	            "loginStatus": status
	        }
	    }
	};
	trackEvent(eventPayload);
}

function logAddToCart(values) {
	var pageAdded = window.location.pathname;

	var eventPayload = {
		"eventName": "cart add",
		"eventType": "custom",
		"attributes": {
			"products": []
		}
	}
	
	for (var j = 0; j < values.length; j++) {
		if(values[j][0] == "Registration") {
			eventPayload.attributes.products.push ({
				"category": values[j][1],
				"sku": values[j][0],
				"quantity": values[j][2],
				"price": values[j][3],
				"termUnit": "1",
				"termCode": "YEAR",
                "chargeCode": "",
				"pageAdded": pageAdded
			});
		} else {
			eventPayload.attributes.products.push ({
				"category": values[j][1],
				"sku": values[j][0],
				"quantity": values[j][2],
				"price": values[j][3],
				"termUnit": "",
				"termCode": "",
                "chargeCode": "",
				"pageAdded": pageAdded
			});
		}
	}
	
	trackEvent(eventPayload);
}

function logRemoveFromCart(values) {

	var eventPayload = {
		"eventName": "cart remove",
		"eventType": "custom",
		"attributes": {
			"products": []
		}
	}
	
	for (var j = 0; j < values.length; j++) {
		if(values[j][0] == "Registration") {
			eventPayload.attributes.products.push ({
				"category": values[j][1],
				"sku": values[j][0],
				"quantity": values[j][2],
				"price": values[j][3],
				"termUnit": "1",
				"termCode": "YEAR",
                "chargeCode": ""
			});
		} else {
			eventPayload.attributes.products.push ({
				"category": values[j][1],
				"sku": values[j][0],
				"quantity": values[j][2],
				"price": values[j][3],
				"termUnit": "",
				"termCode": "",
	            "chargeCode": ""
			});
		}
	}
	
	trackEvent(eventPayload);
}

function logViewCart(values) {

	var eventPayload = {
		"eventName": "cart view",
		"eventType": "custom",
		"attributes": {
			"products": []
		}
	}
	
	for (var j = 0; j < values.length; j++) {
		if(values[j][0] == "Registration") {
			eventPayload.attributes.products.push ({
				"category": values[j][1],
				"sku": values[j][0],
				"quantity": values[j][2],
				"price": values[j][3],
				"termUnit": "1",
				"termCode": "YEAR",
                "chargeCode": ""
			});
		} else {
			eventPayload.attributes.products.push ({
				"category": values[j][1],
				"sku": values[j][0],
				"quantity": values[j][2],
				"price": values[j][3],
				"termUnit": "",
				"termCode": "",
	            "chargeCode": ""
			});
		}
	}
	
	trackEvent(eventPayload);
}

function logPurchaseConfirmation(values, username) {
	var eventPayload = {
		"eventName": "purchase confirmation",
		"eventType": "custom",
		"attributes": {
			"products": [],
			"transaction": {
				"id": "",
				"state": "",
				"zip": "",
				"paymentMethod": ""
			},
	        "user": {
                "loginId": username,
                "loginMethod": "traditional",
                "loginStatus": "logged in"
	        }
		}
	}
	
	for (var j = 0; j < values.length; j++) {
		if(values[j][0] == "Registration") {
			eventPayload.attributes.products.push ({
				"category": values[j][1],
				"sku": values[j][0],
				"quantity": values[j][2],
				"price": values[j][3],
				"termUnit": "1",
				"termCode": "YEAR",
                "chargeCode": "",
				"pageAdded": ""
			});
		} else {
			eventPayload.attributes.products.push ({
				"category": values[j][1],
				"sku": values[j][0],
				"quantity": values[j][2],
				"price": values[j][3],
				"termUnit": "",
				"termCode": "",
                "chargeCode": "",
				"pageAdded": ""
			});
		}
	}
	
	trackEvent(eventPayload);
}
