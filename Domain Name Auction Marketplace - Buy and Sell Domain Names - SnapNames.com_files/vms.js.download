!function(){function m(a){var c=this.constructor;return this.then(function(e){return c.resolve(a()).then(function(){return e})},function(e){return c.resolve(a()).then(function(){return c.reject(e)})})}function g(a){return !(!a||"undefined"==typeof a.length)}function v(){}function d(a){if(!(this instanceof d)){throw new TypeError("Promises must be constructed via new")}if("function"!=typeof a){throw new TypeError("not a function")}this._state=0,this._handled=!1,this._value=undefined,this._deferreds=[],p(a,this)}function b(a,c){for(;3===a._state;){a=a._value}0!==a._state?(a._handled=!0,d._immediateFn(function(){var e=1===a._state?c.onFulfilled:c.onRejected;if(null!==e){var i;try{i=e(a._value)}catch(f){return void k(c.promise,f)}j(c.promise,i)}else{(1===a._state?j:k)(c.promise,a._value)}})):a._deferreds.push(c)}function j(f,i){try{if(i===f){throw new TypeError("A promise cannot be resolved with itself.")}if(i&&("object"==typeof i||"function"==typeof i)){var a=i.then;if(i instanceof d){return f._state=3,f._value=i,void s(f)}if("function"==typeof a){return void p(function(l,o){return function(){l.apply(o,arguments)}}(a,i),f)}}f._state=1,f._value=i,s(f)}catch(c){k(f,c)}}function k(a,c){a._state=2,a._value=c,s(a)}function s(c){2===c._state&&0===c._deferreds.length&&d._immediateFn(function(){c._handled||d._unhandledRejectionFn(c._value)});for(var f=0,a=c._deferreds.length;a>f;f++){b(c,c._deferreds[f])}c._deferreds=null}function p(c,i){var a=!1;try{c(function(l){a||(a=!0,j(i,l))},function(l){a||(a=!0,k(i,l))})}catch(f){if(a){return}a=!0,k(i,f)}}var q=setTimeout;d.prototype["catch"]=function(a){return this.then(null,a)},d.prototype.then=function(a,f){var c=new this.constructor(v);return b(this,new function(l,o,i){this.onFulfilled="function"==typeof l?l:null,this.onRejected="function"==typeof o?o:null,this.promise=i}(a,f,c)),c},d.prototype["finally"]=m,d.all=function(a){return new d(function(l,x){function n(i,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var f=r.then;if("function"==typeof f){return void f.call(r,function(t){n(i,t)},x)}}e[i]=r,0==--w&&l(e)}catch(o){x(o)}}if(!g(a)){return x(new TypeError("Promise.all accepts an array"))}var e=Array.prototype.slice.call(a);if(0===e.length){return l([])}for(var w=e.length,c=0;e.length>c;c++){n(c,e[c])}})},d.resolve=function(a){return a&&"object"==typeof a&&a.constructor===d?a:new d(function(c){c(a)})},d.reject=function(a){return new d(function(e,c){c(a)})},d.race=function(a){return new d(function(e,l){if(!g(a)){return l(new TypeError("Promise.race accepts an array"))}for(var c=0,n=a.length;n>c;c++){d.resolve(a[c]).then(e,l)}})},d._immediateFn="function"==typeof setImmediate&&function(a){setImmediate(a)}||function(a){q(a,0)},d._unhandledRejectionFn=function(a){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)};var h=function(){if("undefined"!=typeof self){return self}if("undefined"!=typeof window){return window}if("undefined"!=typeof global){return global}throw Error("unable to locate global object")}();"Promise" in h?h.Promise.prototype["finally"]||(h.Promise.prototype["finally"]=m):h.Promise=d}();(function(c,b){function a(J,h){var N=false;var k;var w;var v;var O={};var d={};function K(Q,S,P){w=g(Q);var R=new Promise(function(U){var T=h.getElementById("_bc_cookie_jar");if(!T){T=h.createElement("iframe");T.id="_bc_cookie_jar";T.src=Q;T.style.cssText="width:0;height:0;border:none";T.setAttribute("frameborder","0");T.setAttribute("scrolling","no");T.onload=function(){U(T)};h.body.appendChild(T)}else{U(T)}});R.then(function(T){k=T.contentWindow;l(J,"message",S);H().then(function(U){if(!U){if(E()&&(I(h.location.search)||s())){M(P)}else{console.warn("Third party cookies are blocked. Falling back to first-party cookies, cross domain functionality may not work.");P(false)}}else{P(true)}})});return R}function M(P){x().then(function(Q){if(Q){P(true)}else{m(function(){P(true)})}})}function x(){return v.then(function(){if(k){var P=Math.random();k.postMessage(JSON.stringify({id:P,method:"requestStorageAccess"}),w);return new Promise(function(Q){O[P]=function(R){delete O[P];Q(R)}})}else{return Promise.reject("Iframe is not loaded")}})}function q(){return v.then(function(){if(k){var P=Math.random();k.postMessage(JSON.stringify({id:P,method:"hasStorageAccess"}),w);return new Promise(function(Q){O[P]=function(R){delete O[P];Q(R)}})}else{return Promise.reject("Iframe is not loaded")}})}function H(){return F("_bc_tpc_check","OK").then(function(){return u("_bc_tpc_check").then(function(P){return F("_bc_tpc_check","").then(function(){return P==="OK"})})})}function e(){var P=J.navigator.userAgent.toLowerCase();if(P.indexOf("safari")!==-1){return P.indexOf("chrome")===-1}return false}function E(){return e()}function g(P){var R=P.split("/");var S=R[0];var Q=R[2];return S+"//"+Q}function p(P){if(P.source!==k){return}var Q=P.data&&JSON.parse(P.data);if(Q&&Q.eventType==="cookie"){O[Q.id](Q.cookieValue)}}function B(){var R=J._bcvma||[];for(var P=0;P<R.length||0;P++){var S=R[P]||[];var Q=S[0];if(Q==="setParameter"){if(S[1]==="IframeUrl"){return S[2]}}}return null}function L(){if(y()){return new Promise(function(P){v=K(A,p,P)}).then(function(P){N=P})}else{v=Promise.resolve()}return Promise.resolve()}function l(S,T,R){var P="on"+T;var Q=S[P];if(S.addEventListener){S.addEventListener(T,R,false)}else{if(S.attachEvent){S.attachEvent(P,R)}else{S[P]=function(U){R(U);return Q(U)}}}}function u(P){var Q=Math.random();k.postMessage(JSON.stringify({id:Q,method:"getCookie",cookieName:P}),w);return new Promise(function(R){O[Q]=function(S){delete O[Q];R(S)}})}function F(Q,R,P){var S=Math.random();k.postMessage(JSON.stringify({id:S,method:"setCookie",cookieName:Q,cookieValue:R,cookieExpiry:P}),w);return new Promise(function(T){O[S]=function(U){delete O[S];T(U)}})}function t(){return new J.Date().getTime()}function r(S,Q,P){var T,R=S.indexOf(Q+"=");if(R!==-1){R+=Q.length+1;T=S.indexOf(P,R);return S.substring(R,T===-1?S.length:T)}}function G(P){if("undefined"!==typeof d&&"undefined"!==typeof d[P]){return d[P]}return r(h.cookie,P,";")}function D(P,V,R,S){var Q=R&&new Date(t()+R);if(!S){S=J._bcvm&&J._bcvm.domain}if(!S){var W=h.location.host;var U=W.indexOf(".");W=U===W.lastIndexOf(".")?"."+W:W.substring(U);var T=W.indexOf(":");if(T!==-1){W=W.substring(0,T)}S=W}var X=J._bcvm&&J._bcvm.path||"/";return P+"="+V+(R?";expires="+Q.toUTCString():"")+";domain="+S+";path="+X}function i(Q,S,P,R){h.cookie=D(Q,S,P,R)}function n(P){if("undefined"!==typeof d&&"undefined"!==typeof d[P]){return Promise.resolve(d[P])}return j.then(function(){if(N){return u(P)["catch"](function(){return G(P)})}else{return Promise.resolve(G(P))}})}function o(Q,S,P,R){S=String(S).replace(/[\r\n]/g,"");d[Q]=S;return j.then(function(){if(N){return F(Q,S,P)["catch"](function(){return i(Q,S,P,R)})}else{return new Promise(function(T){i(Q,S,P,R);T()})}}).then(function(T){delete d[Q];return T})}function m(P){setTimeout(function(){H().then(function(Q){if(Q){P()}else{m(P)}})},200)}function C(){return N}function y(){return !!A}function f(){if(!C()&&E()){return x().then(function(P){if(P){return Promise.all([q(),H()]).then(function(Q){N=Q[0]&&Q[1]})}else{N=false}})}return Promise.resolve()}function I(P){return P.indexOf("bcContinueChat=1")!==-1}function s(){return G("_bcContinueChat")==="true"}function z(P){return i("_bcContinueChat",!!P)}var A=B();var j=L();J._bcvmc={getCookie:G,getCookieAsync:n,setCookie:o,isIframeEnabled:C,requestStorageAccess:x,hasStorageAccess:q,isCrossDomainEnabled:y,hasContinueChatParam:I,hasContinueChatCookie:s,saveContinueChatCookie:z,switchToCrossDomain:f};return j}a(c,b)}(window,document));(function(b){function a(f){f.bc=f.bc||{};f.bc.cookieConsentPolicy=f.bc.cookieConsentPolicy||d();return f.bc.cookieConsentPolicy;function d(){var h={isOptionalCookiesAllowed:c,setCookieConsentPolicy:e,required:false,optionalCookiesAllowed:undefined};g(h);return h}function c(){return this.required===false||this.optionalCookiesAllowed===true}function e(h){this.required=true;this.optionalCookiesAllowed=undefined;if(h){this.optionalCookiesAllowed=h.optionalCookiesAllowed}}function g(h){var l=f._bcvma||[];for(var j=0;j<l.length||0;j++){var m=l[j]||[];var k=m[0];if(k==="setCookieConsentPolicy"){h.setCookieConsentPolicy(m[1])}}}}new a(b)}(window));(function(b){function a(g){g.bc=g.bc||{};g.bc.featureDetection=g.bc.featureDetection||j();return g.bc.featureDetection;function j(){return{hasLocalStorageSupport:d,hasJsonSupport:e,hasCorsXhrSupport:f,hasConsoleSupport:h,features:m()}}function m(){return{localStorage:c(),json:i(),corsXhr:k(),console:l()}}function k(){return !!g.XMLHttpRequest&&(new g.XMLHttpRequest().withCredentials!==undefined)}function i(){return !!g.JSON&&!!g.JSON.parse&&!!g.JSON.stringify}function c(){try{var p=g.localStorage;var n="__storage_test__";p.setItem(n,n);p.getItem(n);p.removeItem(n);return true}catch(o){return false}}function l(){return !!g.console&&!!g.console.error&&!!g.console.log}function d(){return this.features.localStorage}function e(){return this.features.json}function f(){return this.features.corsXhr}function h(){return this.features.console}}new a(b)}(window));(function(a){function b(d,f){d.bc=d.bc||{};d.bc.visitorTracking=d.bc.visitorTracking||k();var c="bc.visitor_token";return p();function p(){return d.bc.visitorTracking}function k(){return{sync:j,getToken:o,storeToken:s,appendTrackingParams:l,featureDetection:d.bc.featureDetection,cookieConsentPolicy:d.bc.cookieConsentPolicy,synced:false,isSyncing:false,token:null}}function j(v){var x=function(){if(v){v(p())}};var y=p().getToken();if(p().synced){x(y)}else{if(p().isSyncing){var w=function(){var z=o();x(z)};m(w)}else{h(y,x)}}}function o(){if(!p().cookieConsentPolicy.isOptionalCookiesAllowed()){return null}if(p().token){return p().token}if(p().featureDetection.hasLocalStorageSupport()&&p().featureDetection.hasJsonSupport()){return n(d.localStorage.getItem(c))}return null}function s(v){p().token=v;if(p().featureDetection.hasLocalStorageSupport()&&p().featureDetection.hasJsonSupport()){if(v===null){d.localStorage.removeItem(c)}else{d.localStorage.setItem(c,g(v))}}}function l(y){var w=(y.indexOf("?")===-1)?"?":"&";var x=this.getToken();var v=this.cookieConsentPolicy.isOptionalCookiesAllowed();y+=w+"visitorTrackingAllowed="+v;if((v===true)&&x){y+="&visitorToken="+x}return y}function q(y,w,v){y=y||function(){return true};w=w||50;v=v||function(){};var x=function(){if(y()){v()}else{setTimeout(x,w)}};x()}function m(v){var w=function(){return !p().isSyncing};q(w,200,v)}function h(y,v){if(!(p().featureDetection.hasCorsXhrSupport()&&p().featureDetection.hasJsonSupport())){i(o(),v);return}p().isSyncing=true;var w=f;if(!p().cookieConsentPolicy.isOptionalCookiesAllowed()){w+="?cookiesAllowed=false"}else{if(y){w+="?visitorToken="+y}}var x=new d.XMLHttpRequest();x.withCredentials=true;x.open("get",w,true);x.timeout=5000;x.ontimeout=function(){e(x,v)};x.onreadystatechange=function(){if(this.readyState===4){if(this.status===200){var z=r(this.responseText);i(z,v)}else{e(x,v)}}};x.send(null)}function i(w,v){p().isSyncing=false;p().synced=true;v(w)}function e(w,v){p().isSyncing=false;p().synced=false;t("visitorToken syncing failed: ",w);v(o())}function t(){if(p().featureDetection.hasConsoleSupport()){console.error.apply(console,arguments)}}function n(w){var v;try{v=d.JSON.parse(w||null)||{}}catch(x){v={}}return v.token||null}function r(w){var v=u(w);s(v);return v}function u(v){if(!p().cookieConsentPolicy.isOptionalCookiesAllowed()){return null}return d.JSON.parse(v).visitorToken}function g(v){return d.JSON.stringify({token:v})}}new b(a,"https://visitor-services.boldchat.com/visitor-token-service/visitor-token")}(window));(function(d,c){var b=(function(){try{if(typeof navigator==="undefined"){return false}if((/^Opera\//).test(navigator.userAgent)||(/ OPR\//).test(navigator.userAgent)){return false}else{if(false&&navigator.mozGetUserMedia){var f=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);return f>=38}else{if(navigator.webkitGetUserMedia){return !(/(iPad|iPhone|iPod)/g).test(navigator.userAgent)}}}}catch(g){}return false}());function a(l,J,f){var h="_bc-curl";var I="_bc-show-floating-button_";var E=300000;var v=r(f);var D="nanorep";var B="agent";function G(){return m().then(function(K){var L=q()||K;if(l._bcvmw.cancelWidgetStart){return false}if(L){return l._bcvmw.chatWindow(L,L.id).then(function(){return true})}return false})}function q(){var K=l.sessionStorage&&l.sessionStorage.getItem(h);return K?u(K):null}function H(){return !!(q()||z())}function e(){return m().then(function(K){return !!(q()||K)})}function y(){if(l._bcvmc.isCrossDomainEnabled()){return l._bcvmc.switchToCrossDomain()}else{return Promise.resolve()}}function m(){return l._bcvmc.getCookieAsync(h).then(u)}function z(){return u(l._bcvmc.getCookie(h))}function i(K){if(!K){return Promise.resolve(false)}var L=I+K;return l._bcvmc.getCookieAsync(L).then(function(M){return M==="true"})}function A(L,K){if(!K||!l||!l._bcvmc||!l._bcvmc.setCookie){return}l._bcvmc.setCookie(I+K,L,E)}function r(L){var K=L.indexOf("-")===0?L.substring(L.indexOf(".")):L;return new RegExp(K.replace(/\./g,"\\.")+"$")}function s(K){var L=document.createElement("a");L.href=K;return v.test(L.hostname)}function t(){l._bcvmc.setCookie(h,"",-1);l.sessionStorage&&l.sessionStorage.removeItem(h);k(false)}var o=(function(){var K=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return K&&parseInt(K[2],10)>=47}());function k(K){l._bcvmw.cancelWidgetStart=K}l._bcvmw={chatWindow:function(L,M,K){if(l._bcvmw.cancelWidgetStart&&!L.bt_override){return Promise.resolve()}return y().then(function(){return l._bcvmw.hasActiveChatAsync().then(function(S){if(!S){l.pageViewer.emitChatStatusChangeEvent(l.pageViewer.boldChatEventTypes.Accepted)}var U=L.launchType===D?D:B;if(!l._bcvmw.previousChatType){l._bcvmw.previousChatType=U}if(S&&L.bt_override){if(l._bcvmw.previousChatType&&l._bcvmw.previousChatType!==U){if(U===D){l._bcvmw.closeAgent=true}if(U===B){l._bcvmw.closeNanorep=true}}}if(!M&&S&&!L.bt_override){return G().then(function(){return Promise.resolve()})}k(true);var ab=l.pageViewer;var N;var Z=null;var T=l.hideBox||l.bt_hideAnimationImpl;var X=L.video&&b&&o&&!/^https:/.test(l.location.protocol);var O=X||/(android 2|android 3)/i.test(navigator.userAgent)||/iemobile\/9/i.test(navigator.userAgent)||/(msie 7)/i.test(navigator.userAgent)||/(msie 8|msie 9)/i.test(navigator.userAgent)&&document.compatMode!=="CSS1Compat";var aa=/(msie 6|opera mini|opera mobi.*presto)/i.test(navigator.userAgent);var V=ab&&ab.getParameter("OverrideLayer",L)==="true";var P=O||aa||ab&&ab.getParameter("OverridePopup",L)==="true";if(!K&&!M){K=ab&&ab.getParameter("SecureParameters",L)}if(typeof K==="function"){K=K(function(ac){k(false);l._bcvmw.chatWindow(L,M,ac)},"chat");if(!K){return}}if(l._bcvmw.customChatWindow){var Y={button:L.bdid,queueToken:L.token,url:J.location.href,customUrl:ab&&ab.getWindowParameter("CustomUrl",L),secure:K,visitor:ab&&ab.getVisitorID(),forcePopup:!L.embed&&!V||P,width:(ab.getWindowParameter("ChatWidth",L)||L.width||"640"),height:(ab.getWindowParameter("ChatHeight",L)||L.height||"480"),language:ab&&ab.getWindowParameter("Language",L)};var Q={reference:ab&&ab.getWindowParameter("VisitRef",L),information:ab&&ab.getWindowParameter("VisitInfo",L),name:L.name||(ab&&ab.getWindowParameter("VisitName",L)),phone:ab&&ab.getWindowParameter("VisitPhone",L),email:L.email||(ab&&ab.getWindowParameter("VisitEmail",L)),initial_question:L.initialQuestion||(ab&&ab.getWindowParameter("InitialQuestion",L))};var W=l._bcvmw.customChatWindow(Y,Q);if(typeof W==="undefined"||W){k(false);return}}function R(){if(!L.invite&&T){T(2)}function ac(){if(L.url&&!L.invite){N=L.url;return Promise.resolve()}else{var ae=ab.getParameter("WebsiteDefID",L)||ab.getParameter("WebsiteID",L);N=L.url||"https://livechat"+l._bcvm.host+"/bc."+L.type+"?resize=true"+(L.bdid?"&cbdid="+L.bdid:(L.cwdid?"&cwdid="+L.cwdid:""))+(ae?"&wdid="+ae:"")+"&url="+(l.encodeURIComponent||l.escape)(J.location.href);N+=(L.token?"&queueToken="+L.token:"");var ad=ab.getParameter("PinvitationID",L);if(ad){N+="&pinid="+ad}var ai={Language:"lc",Difficulty:"Difficulty",Urgency:"Urgency",CustomUrl:"curl",WindowParameters:null};for(var ag in ai){var ah=ai[ag];var af=ab.getParameter(ag,L);if(af){N+="&"+(ah?ah+"=":"")+af}}N+=(L.rdid?"&rdid="+L.rdid:"")+(L.roid?"&roid="+L.roid:"");N+=(L.group?"&group="+L.group:"");if(ab&&ab.link){return ab.link(N,true).then(function(aj){N=aj})}else{return Promise.resolve()}}}return ac().then(function(){if(K){Z=Z||{localsecured:[],secured:[],hash:[]};Z.secured.push(K)}if(L.secured||L.localsecured){Z=Z||{localsecured:[],secured:[],hash:[]};if(L.secured){Z.secured.push(L.secured)}if(L.hash){Z.hash.push(L.hash)}if(L.localsecured){Z.localsecured.push(L.localsecured)}}Z=Z||{};var ae=N.indexOf("?");var aj=ae===-1?[]:N.substring(ae+1).split("&");for(var ah=0;ah<aj.length;ah++){var ai=aj[ah];var af=ai.indexOf("=");var am=decodeURIComponent(af===-1?ai:ai.substring(0,af));var ak=decodeURIComponent(af===-1?"":ai.substring(af+1));Z[am]=Z[am]||[];Z[am].push(ak)}N=ae===-1?N:N.substring(0,ae);var al=function(at,an){N=at?N.replace(/bc\.chat/,"mobilechat/visitor.jsp")+(aa?"&pt=9":""):N;if(an){N=at?N.replace(/bc\.chat/,"mobilechat/visitor.jsp")+(aa?"&pt=9":""):N;if(l.bcConfig&&l.bcConfig.cid&&!(/&cid=/.test(N))){N=N+"&cid="+l.bcConfig.cid}}N=l.bc.visitorTracking.appendTrackingParams(N);if(!s(N)){t();return}var ap=Z?"about:blank":N;var aw="popup_"+(L.type||"unknown")+(L.bdid||"")+"_"+(L.cwdid||"");if(/OS X.*CriOS.*Mobile/i.test(navigator.userAgent)&&L.invite){l.open(ap,aw)}else{l.open(ap,aw,(L.open||(ab&&ab.getParameter("OpenParameters",L))||"toolbar=0,scrollbars=1,location=0,statusbar=0,menubar=0,resizable=1")+",width="+((ab&&ab.getParameter("ChatWidth",L))||L.width||"640")+",height="+((ab&&ab.getParameter("ChatHeight",L))||L.height||"480"))}if(Z){var ao=J.createElement("form");ao.target=aw;ao.method="post";ao.action=N;for(var ar in Z){for(var aq=0;aq<Z[ar].length;aq++){var av=J.createElement("input");av.type="hidden";av.name=ar;av.value=Z[ar][aq];ao.appendChild(av)}}var au=function(){try{J.body.appendChild(ao)}catch(ay){try{J.body.insertBefore(ao,J.body.firstChild)}catch(ax){setTimeout(au,1000);return}}ao.submit()};au()}k(false)};function ad(an){al(an,true)}function ag(){var an=!!L.showFloatingButtonsAfterChatStart;if(an){A(an,L.cwdid);return Promise.resolve(an)}else{return i(L.cwdid)}}l.bc.visitorTracking.sync();return ag().then(function(ao){if(L.launchType==="nanorep"){l.bcConfig=l.bcConfig||{};l.bcConfig.showFloatingButtonsAfterChatStart=ao;var an=ab&&(ab.getParameter("WebsiteDefID",L)||ab.getParameter("WebsiteID",L));var ar=L.url&&L.invite?L.url.replace(/bc.chat/,"bot/launcher.jsp"):L.url;if(ar&&!s(ar)){t();return}C(ar,M,L.cwdid,an,L.bdid,Z);if(l._bcvmc.isCrossDomainEnabled()){return l._bcvmc.hasStorageAccess().then(function(aw){if(aw&&l._bcvm.pageViewer.hasContinueChatHandler()){l._bcvmc.saveContinueChatCookie(true)}})}}else{if(!L.embed&&!V||P){al(L.embed||V)}else{var av=M||(Math.floor(Math.random()*1000000000)+""+Math.floor(Math.random()*1000000000));var at=N.replace(/bc\.chat.*/,"").replace(/mobilechat.*/,"")+"mobilechat/launcher.jsp?v="+(L.version||"1")+(L.cwdid?"&cwdid="+L.cwdid:"")+"&cid="+av;var aq=at.replace(/launcher.jsp.*/,"loader.jsp");var ap=L.url&&!L.invite?N:N.replace(/bc.chat/,"mobilechat/visitor.jsp");if(!s(at)||!s(aq)||!s(ap)){t();return}l.bcConfig=l.bcConfig||{};l.bcConfig.frame=true;l.bcConfig.aid=N.match(/\/aid\/([0-9]+)\//)[1];l.bcConfig.cid=M;l.bcConfig.cwdid=L.cwdid||"";l.bcConfig.obj={url:ap,hostUrl:J.location.href,post:Z};l.bcConfig.loader=aq;l.bcConfig.launchPopup=al;l.bcConfig.launchPopupFromLayered=ad;l.bcConfig.minimizeOnStart=L.minimizeOnStart;l.bcConfig.showOnNextOperatorMessage=L.showOnNextOperatorMessage;l.bcConfig.autoCloseOnNoOperators=L.autoCloseOnNoOperators;l.bcConfig.showFloatingButtonsAfterChatStart=ao;var au=J.createElement("script");au.type="text/javascript";au.src=at;J.getElementsByTagName("head")[0].appendChild(au)}}return Promise.resolve()})})}if(!M){G().then(function(ac){if(!ac){return R()}})}else{return R()}})})},closeChat:function(){},hasActiveChatAsync:e,hasActiveChat:H};var p=J.location.href;var g=p.indexOf("#reboot-cid=");if(g!==-1){var x=(l.decodeURIComponent||l.unescape)(p.substring(g+12)).split(":");if(x.length>1){var n=null;if(x.length>7){n=x[7]}l.setTimeout(function(){l._bcvmw.chatWindow({cwdid:x[1],version:1,embed:true,type:"chat",launchType:n},x[0])},1000)}J.location.href=p.replace(/#.*/,"#");return}p=J.location.href;g=p.indexOf("#bc-curl=");if(g!==-1){var w=(l.decodeURIComponent||l.unescape)(p.substring(g+9));var j=u(w);if(j){l.setTimeout(function(){l._bcvmc.setCookie(h,w);J.location.href=p.replace(/#.*/,"#");G()},1000);return}else{console.error("Invalid Chat URL")}}G();function u(M){var N=M?M.split(":"):[];if(N.length>2){var L=N[0];var S=N[1];var K=(l.decodeURIComponent||l.unescape)(N[2]);var P=N[3];var O=N[4];var R=N[5];var Q=N.length>7?N[7]:null;if(s(K)){return{id:L,url:K,cwdid:S,minimized:P,unreadMessageCount:O,version:R,embed:true,launchType:Q}}else{console.error("Invalid Chat URL: "+K)}}return null}function F(){var K=Math.floor(Math.random()*9223372037);return((K===0)?"":K)+""+Math.floor(Math.random()*((K===9223372036)?854775808:1000000000))}function C(K,O,S,M,P,R){l.bcConfig=l.bcConfig||{};l.bcConfig.post=R;l.bcConfig.cid=O;var L=F();var Q=K||("https://livechat"+l._bcvm.host+"/bot/launcher.jsp?"+(O?"cid="+O:"id="+L)+(S?"&cwdid="+S:"")+(M?"&wdid="+M:"")+(P?"&cbdid="+P:"")+"&url="+(l.encodeURIComponent||l.escape)(J.location.href));var N=J.createElement("script");N.type="text/javascript";N.src=Q;J.getElementsByTagName("head")[0].appendChild(N)}}a(d,c,".boldchat.com")}(window,document));window._bcvmf={divs:[],windows:{},floatButton:function(d){if(window.pageViewer&&pageViewer.removeButton){pageViewer.removeButton(d.bdid)}if(!d.img){return}if(d.hideUnsupported){var m=(function(){try{if(typeof navigator==="undefined"){return false}if((/^Opera\//).test(navigator.userAgent)||(/ OPR\//).test(navigator.userAgent)){return false}else{if(false&&navigator.mozGetUserMedia){var a=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);return a>=38}else{if(navigator.webkitGetUserMedia){return !(/(iPad|iPhone|iPod)/g).test(navigator.userAgent)}}}}catch(x){}return false}());if(!m){return}}var Z=window,j=document,H=j.body,ae=j.documentElement,P=Math.random()+"",ad=function(){return new Date().getTime()},S=d.x,R=d.y,q=d.dl,h=d.dt,o=d.px,l=d.py,M=d.fix,V=1000000000,N=1000000000,ag,I,n,an,s,E,D,i,Y=j.getElementById("bcvml"),Q=1,g=0,B=navigator.userAgent.match(/(iPad|iPhone|iPod)/g),af=/(iphone|ipod|ipad).* os 8_/i.test(navigator.userAgent),t=/Silk/.test(navigator.userAgent),al=/Android/.test(navigator.userAgent)||t,ab=/IEMobile/.test(navigator.userAgent),e=/mobile.*firefox/i.test(navigator.userAgent)||/tablet.*firefox/i.test(navigator.userAgent),U=/Android 4.*WebKit.*Version\/4.0/.test(navigator.userAgent),W=(document.compatMode=="CSS1Compat"&&!B&&!al&&!ab)||e,ac=d.si!=null&&d.si>=0,am=false,ak=function(){return Math.max(n.width,n.offsetWidth||0,n.naturalWidth||0)},K=function(){return Math.max(n.height,n.offsetHeight||0,n.naturalHeight||0)},aa=function(){return aj(((q?o:100-o)/100*(A()-Math.min(V,ak())*Q)+(q?S:-S))+(!M||W?0:window.scrollX||window.pageXOffset))},X=function(){if(b()){return v()}else{return c((h?l:100-l)/100*(O()-Math.min(N,K())*Q)+(h?R:-R)+(!M||W?0:window.scrollY||window.pageYOffset))}},v=function(){return l/100*(O())+R},aj=function(x){var a=x;if(a>document.body.scrollWidth-Math.min(V,ak())*Q){if(a>A()-Math.min(V,ak())*Q){a=document.body.scrollWidth-Math.min(V,ak())*Q}}return a},c=function(x){var a=x;if(a>document.body.scrollHeight-Math.min(N,K())*Q){if(a>O()-Math.min(N,K())*Q){a=document.body.scrollHeight-Math.min(N,K())*Q}}return a};function O(){return((B||al||e)?window.innerHeight:((W^!M)&&ae.clientHeight||H&&H.clientHeight)*Q)}function A(){return((B||al||e)?window.innerWidth:((W^!M)&&ae.clientWidth||H&&H.clientWidth)*Q)}var T=function(){if(B||al){G()}I.style.width=ak()+"px";I.style.height=K()+"px";if(!ac){ag.style.width=ak()+"px";ag.style.height=K()+"px"}E=aa();D=X();ag.style.left=E+"px";if(b()){ag.style.bottom=D+"px"}else{ag.style.top=D+"px"}if(ac){s(true)}};function G(){if(B||al){if(ai()){Q=window.innerWidth/Math.max(screen.width,screen.height)}else{Q=window.innerWidth/Math.min(screen.width,screen.height)}}if(g!==Q){var a="top";if(b()){a="bottom"}ag.style.transform="scale("+Q+")";ag.style.transformOrigin=a+" left";ag.style.webkitTransform="scale("+Q+")";ag.style.webkitTransformOrigin=a+" left";W=(document.compatMode=="CSS1Compat"&&(!B&&!al||window.innerWidth==document.body.scrollWidth)&&!ab)||e;k()}g=Q}function ai(){if(B&&typeof window.orientation!=="undefined"){return(Math.abs(window.orientation)===90)}else{if(document.documentElement&&document.documentElement.clientWidth){return(document.documentElement.clientWidth>document.documentElement.clientHeight)}else{return(window.innerWidth>window.innerHeight)}}}function b(){return W&&M&&!h&&e}function k(){ag.style.position=W&&M?"fixed":"absolute"}ag=j.createElement("div");I=j.createElement("div");n=new Image();an=j.createElement("a");ag.setAttribute("class","bcFloat");ag.style.display="none";I.style.position="absolute";an.setAttribute("href","#");an.onclick=function(){Z._bcvmw.chatWindow(d);return false};if(ac){var w=d.sl,r=d.st,C=0,J=0,L,z=d.si,p=100,u=function(a){return 1-Math.E*Math.exp(-1/(1-a*a))};V=w;N=r;s=function(aq){if(am){return}am=true;var a=V,ao=N,y=Math.min(1,(ad()-J)/z),x=C?ak():w||ak(),ap=C?K():r||K();if(C){y=1-y}y=u(y);V=y*Math.min(ak(),w||ak())+(1-y)*ak();N=y*Math.min(K(),r||K())+(1-y)*K();ag.style.width=V+"px";ag.style.height=N+"px";if(q){I.style.marginLeft=(V-ak())+"px"}if(h){I.style.marginTop=(N-K())+"px"}else{if(b()){I.style.marginBottom=(N-K())+"px"}}if(V!=x||N!=ap){if(L){clearTimeout(L)}L=setTimeout(s,p)}E+=a-V;if(!b()){D+=ao-N}if(V!=a&&!q){ag.style.left=E+"px"}if(N!=ao&&!h){if(b()){ag.style.bottom=D+"px"}else{ag.style.top=D+"px"}}am=false};I.onmouseover=function(){J=ad()-z*(1-Math.min(1,(ad()-J)/z));C=1;if(L){clearTimeout(L)}L=setTimeout(s,p)};I.onmouseout=function(){J=ad()-z*(1-Math.min(1,(ad()-J)/z));C=0;if(L){clearTimeout(L)}L=setTimeout(s,p)}}ag.appendChild(I);I.appendChild(an);an.appendChild(n);_bcvmf.divs.push(ag);n.setAttribute("id",P);n.setAttribute("border",0);n.setAttribute("alt",d.altText);n.onload=function(){ag.style.textAlign="left";ag.style.zIndex=3141591;ag.style.overflow="hidden";k();T();ag.style.display="block";_bcvmf.updateFloatVisibility()};n.src=d.img;if(B||al){ag.style.transition="all 0.2s linear";ag.style.WebkitTransition="all 0.2s linear"}function f(){try{j.body.appendChild(ag)}catch(a){try{j.body.insertBefore(ag,j.body.firstChild)}catch(a){setTimeout(f,1000);return}}H=j.body;T()}f();_bcvm.addEvent(Z,"resize",T);if(B||(al&&!U)){function ah(){var a=!W||!M;if(a){ag.style.position="fixed"}T();setTimeout(function(){if(a){k()}T()},500)}_bcvm.addEvent(Z,"orientationchange",ah)}function F(){setTimeout(function(){T()},500)}_bcvm.addEvent(Z,"touchend",F);_bcvm.addEvent(Z,"scroll",T);if(Z.pageViewer&&pageViewer.addButton){pageViewer.addButton({parents:[ag],id:P,bdid:d.bdid,type:d.type,roid:d.roid,rdid:d.rdid,obj:d},true)}if(window.pageViewer.addExperimentButton){window.pageViewer.addExperimentButton({id:d.id,type:d.type},d.originalButtonId)}},updateFloatVisibility:function(a,d){var c=false;if(a){_bcvmf.windows[a]=d}for(var b in _bcvmf.windows){if(!_bcvmf.windows[b]){c=true;break}}for(var b=0;b<_bcvmf.divs.length;b++){_bcvmf.divs[b].style.display=c?"none":"block"}}};window._bcvmb={button:function(e){if(window.pageViewer&&pageViewer.removeButton){pageViewer.removeButton(e.id||e.bdid)}if(!e.img){return}if(e.hideUnsupported){var n=(function(){try{if(typeof navigator==="undefined"){return false}if((/^Opera\//).test(navigator.userAgent)||(/ OPR\//).test(navigator.userAgent)){return false}else{if(false&&navigator.mozGetUserMedia){var a=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);return a>=38}else{if(navigator.webkitGetUserMedia){return !(/(iPad|iPhone|iPod)/g).test(navigator.userAgent)}}}}catch(i){}return false}());if(!n){return}}var g=window,m=document,b,h=!e.id?_bcvm.select(e.element):[m.getElementById(e.id)],c=Math.random()+"",f,l,o=function(){g._bcvmw.chatWindow(e);return false},k=[],j=[];for(var d=0;d<h.length;d++){b=h[d];if(!b){continue}l=m.createElement("a");b.className=(b.className+" "||"")+"bcStatic";l.setAttribute("href","#");l.onclick=o;if(!e.html){f=new Image();f.setAttribute("border",0);f.setAttribute("alt",e.altText);f.src=e.img}else{f=m.createElement("div");f.innerHTML=!e.img?"":e[e.img]}k.push(f);l.appendChild(f);j.push(l);b.appendChild(l)}if(g.pageViewer&&pageViewer.addButton){pageViewer.addButton({parents:j,id:c,eid:e.id,tbid:e.html?e.bdid:null,html:e.html,available:e.available,unavailable:e.unavailable,elements:k,bdid:e.bdid,type:e.type,roid:e.roid,rdid:e.rdid,obj:e},true)}if(window.pageViewer.addExperimentButton){window.pageViewer.addExperimentButton({id:e.id,type:e.type},e.originalButtonId)}}};window._bcvmt={text:function(d){if(window.pageViewer&&pageViewer.removeButton){pageViewer.removeButton(d.id)}if(d.hideUnsupported){var k=(function(){try{if(typeof navigator==="undefined"){return false}if((/^Opera\//).test(navigator.userAgent)||(/ OPR\//).test(navigator.userAgent)){return false}else{if(false&&navigator.mozGetUserMedia){var a=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);return a>=38}else{if(navigator.webkitGetUserMedia){return !(/(iPad|iPhone|iPod)/g).test(navigator.userAgent)}}}}catch(l){}return false}());if(!k){return}}if(!d.available){return}var g=window,j=document,b=j.getElementById(d.id),c=Math.random()+"",i,h=j.createElement("div"),f=g._bcvm.textButtons[d.id],e=f&&f[d.available];i=j.createElement("a");b.setAttribute("class","bcText");i.setAttribute("href","#");i.onclick=function(){g._bcvmw.chatWindow(d);return false};h.setAttribute("id",c);h.innerHTML=e;i.appendChild(h);b.appendChild(i);if(g.pageViewer&&pageViewer.addButton){pageViewer.addButton({parents:[i],id:c,available:f&&f.available,unavailable:f&&f.unavailable,tbid:d.id,type:d.type,roid:d.roid,rdid:d.rdid,obj:d},true)}}};(function(){function b(f){if(!doc.getElementsByTagName){return[]}f=f.replace(/\s*([^\w])\s*/g,"$1");var z=[],k=f.split(","),v,H,e,F,h;var k=f.split(",");var u=function(N,o){if(!o){o="*"}v=[];for(var L=0,l=N.length;h=N[L],L<l;L++){var j;if(o=="*"){j=h.all?h.all:h.getElementsByTagName("*")}else{j=h.getElementsByTagName(o)}for(var i=0,M=j.length;i<M;i++){v.push(j[i])}}};COMMA:for(var I=0,r=k.length;H=k[I],I<r;I++){var g=[doc],w=H.split(" ");SPACE:for(var G=0,q=w.length;e=w[G],G<q;G++){var p=e.indexOf("["),m=e.indexOf("]"),n=e.indexOf("#");if(n+1&&!(n>p&&n<m)){var A=e.split("#"),K=A[0],x=A[1],t=doc.getElementById(x);if(!t||(K&&t.nodeName.toLowerCase()!=K)){continue COMMA}g=[t];continue SPACE}n=e.indexOf(".");if(n+1&&!(n>p&&n<m)){var A=e.split("."),K=A[0],E=A[1];u(g,K);g=[];for(var D=0,J=v.length;F=v[D],D<J;D++){if(F.className&&F.className.match(new RegExp("(^|s)"+E+"(s|$)"))){g.push(F)}}continue SPACE}if(e.indexOf("[")+1){if(e.match(/^(\w*)\[(\w+)([=~\|\^\$\*]?)=?['"]?([^\]'"]*)['"]?\]$/)){var K=RegExp.$1,C=RegExp.$2,s=RegExp.$3,B=RegExp.$4}u(g,K);g=[];for(var D=0,J=v.length;F=v[D],D<J;D++){if(s=="="&&F.getAttribute(C)!=B){continue}if(s=="~"&&!F.getAttribute(C).match(new RegExp("(^|\\s)"+B+"(\\s|$)"))){continue}if(s=="|"&&!F.getAttribute(C).match(new RegExp("^"+B+"-?"))){continue}if(s=="^"&&F.getAttribute(C).indexOf(B)!=0){continue}if(s=="$"&&F.getAttribute(C).lastIndexOf(B)!=(F.getAttribute(C).length-B.length)){continue}if(s=="*"&&!(F.getAttribute(C).indexOf(B)+1)){continue}else{if(!F.getAttribute(C)){continue}}g.push(F)}continue SPACE}u(g,e);g=v}for(var y=0,J=g.length;y<J;y++){z.push(g[y])}}return z}function c(){var g={};return{get:e,set:h,getAll:f};function e(i){return g[i]}function h(i,j){g[i]=j}function f(i){if(typeof i!=="function"){i=c.FORMATTERS.URL_ENCODE}return i(g)}}(function(){c.FORMATTERS={URL_ENCODE:e(""),PREFIXED_URL_ENCODE:e};function e(g){return function f(l){var k=[];for(var i in l){if(l.hasOwnProperty(i)){var h=encodeURIComponent(g+i);var j=l[i];if(j){k.push(h+"="+encodeURIComponent(j))}else{k.push(h)}}}return k.join("&")}}}());function d(o,P,W,Q,X,B,A,S,D,z,V,G,R,F,H,w,g,L,k){P.bcLoaded=true;var m=W+"/aid/";var U=new c();var f=C();var h="_bc-curl";var r="_bc-chat-status-changed-event";var u=[];var N={NoAction:1,InitiateChat:2,InitiateCall:3,InviteChat:4,InviteCall:5,GetCoBrowseData:6,StartCoBrowse:7};var e={NoError:1,VisitorMonitorDisabled:2,InactivePageView:3,DelayedChatInvitation:4,DelayedCallInvitation:5};var T={ChatInvitationTemplateVariants:29,CallInvitationTemplateVariants:51};var t={Accepted:"accepted",Started:"started",Engaged:"engaged",Errored:"errored",Completed:"completed",Closed:"closed"};function x(){return new P.Date().getTime()}function v(ab,Z,Y){var ac,aa=ab.indexOf(Z+"=");if(aa!==-1){aa+=Z.length+1;ac=ab.indexOf(Y,aa);return ab.substring(aa,ac===-1?ab.length:ac)}}function J(Y){return v(o.location.href,Y,"&")}function M(Z){var aa={};for(var Y in Z){aa[Y]=Z[Y]}return aa}function s(ab,ac,aa){var Y="on"+ac;var Z=ab[Y];if(ab.addEventListener){ab.addEventListener(ac,aa,false)}else{if(ab.attachEvent){ab.attachEvent(Y,aa)}else{ab[Y]=function(ad){aa(ad);return Z(ad)}}}}function p(aa){var Y=o.getElementsByTagName("head")[0]||o.body;var Z=o.createElement("script");Z.id="bcvm_script_"+new Date().getTime();Z.async=true;Z.type="text/javascript";Z.src=aa;Y.appendChild(Z);if(/\/(bc.vm|bc.pv|bc.evi|bc.page.view.invitation.result)/i.test(aa)){setTimeout(function(){Y.removeChild(Z)},30000)}}function j(Z){var Y="";O(Z,function(aa,ab){Y+="&"+aa+"="+encodeURIComponent(ab)});return Y.substring(1)}function O(ab,Y){for(var aa in ab){var Z=ab[aa];if(Z&&Z.length){q(aa,Z,Y)}}}function q(aa,Z,Y){for(var ab=0,ac=Z.length;ab<ac;ab++){Y(aa,Z[ab])}}function I(Z,Y,ab,ae){if(ah()){af()}else{ai()}function aa(ak){if(ab&&typeof ab==="function"){ab(ak)}}function ac(ak){if(ae&&typeof ae==="function"){ae(ak)}}function ah(){return P.XMLHttpRequest&&(new P.XMLHttpRequest().withCredentials)!==undefined}function af(){var ak=new P.XMLHttpRequest();ak.open("POST",Z,true);ak.setRequestHeader("Content-type","application/x-www-form-urlencoded");ak.withCredentials=true;ak.onload=function(){if(this.readyState===4&&this.status===200){aa(ak.responseText)}else{ac(ak.responseText)}};ak.onerror=function(){ac()};ak.send(j(Y))}function ai(){var ak=ag();var al=aj(ak.name,Y);ak.onload=function(){aa();o.body.removeChild(al);o.body.removeChild(ak)};ak.onerror=function(){ac()};al.submit()}function ag(){var ak=o.createElement("iframe");var al="bcvm_iframe_"+Math.random()+"_"+new Date().getTime();ak.name=al;ak.style.cssText="width: 0px; height: 0px;";o.body.appendChild(ak);return ak}function aj(al,am){var ak=o.createElement("form");ak.target=al;ak.method="post";ak.action=Z;O(am,function(an,ao){ad(ak,an,ao)});o.body.appendChild(ak);return ak}function ad(am,al,an){var ak=o.createElement("input");ak.type="hidden";ak.name=al;ak.value=an;am.appendChild(ak)}}function l(Y,Z){return new Promise(function(ab,aa){var ac=new P.XMLHttpRequest();ac.withCredentials=true;ac.open("get",Y+"?"+j(Z),true);ac.onreadystatechange=function(){if(this.readyState===4){if(this.status===200){ab(this.responseText)}else{aa()}}};ac.send()})}function E(){return P._bcvmc.isIframeEnabled()}function K(aA){var bR=1000;var aM={VisitRef:"vr",VisitInfo:"vi",VisitName:"vn",VisitPhone:"vp",VisitEmail:"ve"};var bj={WindowParameters:"&",OpenParameters:","};var bs={OpenParameters:"op",InvitationID:"idid",InvitationDefID:"idid",WindowScheme:"cp",CharSet:".cs",CustomUrl:"curl",ChatWidth:"cwidth",ChatHeight:"cheight",CallWidth:"pwidth",CallHeight:"pheight",ChatWindowID:"cwdid",ChatWindowDefID:"cwdid",CallWindowDefID:"pwdid",Language:"lc",Difficulty:"Difficulty",Urgency:"Urgency"};var Y={ConversionCodeID:"ccid",ConversionAmount:"ca",ConversionRef:"cr",ConversionInfo:"ci",ConversionOrder:"co",ConversionPurchased:"cp"};var aF=setTimeout;var aa=clearTimeout;var bK=new Image();if(Q){var ay=[]}var aD=0;var bB=function(){return w(aD,bl)};var bm=o.location.protocol;var bq="https://";var a5="https:"===bm?"https":"http";var bb=(bm==="https:"||bm==="http:")&&X;var aJ;var b5;var bl=false;var ah;var ba=false;if(B){var b0={};var bo={};var az="";var aw="";var bh=""}var bf;var a9;var bZ;var ap;var a6;var bP="";var bi;var bV;var bU="SecureParameters";var aG=!B?{WindowScheme:bq,ChatWidth:640,ChatHeight:480,CallWidth:480,CallHeight:360}:{};var aC={};var b1=[a3];var aK=true;var Z={id:"pageView"};var bI=null;var ab=null;var bA=P.bc.visitorTracking;var a8=new a(P);var aQ=false;var a4;function at(b6){P._bcvm.domain=b6}function ai(b6){P._bcvm.path=b6}function a2(b7,b6,b8){ah=b8;bP=bg("wdid",bY("WebsiteDefID")||bY("WebsiteID"))+bg("pvid",ah);bM(b7,b6).then(function(){aK=true;ad()})}function bM(b7,b6){bZ=bY("WebsiteDefID")||bY("WebsiteID")||aA;ap=S+bZ;a6=D+bZ;if(bb){return Promise.all([P._bcvmc.getCookieAsync(ap),P._bcvmc.getCookieAsync(a6)]).then(function(b9){bf=b6||b9[0]||J(ap)||bf;a9=b7||b9[1]||J(a6)||a9;var b8=P._bcvmc.getCookie(a6);if(bf){P._bcvmc.setCookie(ap,bf)}if(a9){P._bcvmc.setCookie(a6,a9,z*86400000)}if(!a9&&b8){P._bcvmc.setCookie(a6,b8,z*86400000)}})}else{bf=b6||J(ap)||bf;a9=b7||J(a6)||a9;return Promise.resolve()}}function a3(b7,b6){var b8=b7.indexOf("#");return b7.substring(0,b8==-1?b7.length:b8)+(b7.indexOf("?")==-1?"?":"")+(bb?bg(D,"true"):"")+bg(ap,(x()+(n.serverTimeOffset||0))+"S"+bf)+bg(a6,(x()+(n.serverTimeOffset||0))+"S"+a9)+(b6?"":bg("curl",aG.CustomUrl)+"&"+bt())+(b8==-1?"":b7.substring(b8))}function am(b7,b6){return bM().then(function(){for(var b8=0;b8<b1.length;b8++){b7=b1[b8](b7,b6)}return b7})}function bE(b6){b1.push(b6)}function aP(b6){for(var b7=0;b7<b1.length;b7++){if(b1[b7]==b6){b1.splice(b7,1)}}}function al(b7){var b9=P.sessionStorage;var b8=b9.getItem(r);var b6=b8?JSON.parse(b8):[];if(b6.indexOf(b7)===-1&&b7!==t.Closed){b6.push(b7);b9.setItem(r,JSON.stringify(b6));aT(b7)}if(b7===t.Closed){b9.clear()}}function aT(b7){for(var b6=0;b6<u.length;b6++){try{u[b6](b7)}catch(b8){console.error(b8)}}}function aN(b6){u.push(b6)}function bc(){return ah}function ac(b6){aA=b6;P._bcvm.host=m+aA}function bT(b7,cb){if(!b7){return{}}var ca=b7.split(cb),b6,b9,b8={};for(b6=0;b6<ca.length;b6++){b9=ca[b6].indexOf("=");b8[b9==-1?ca[b6]:ca[b6].substring(0,b9)]=b9==-1?null:ca[b6].substring(b9+1)}return b8}function aW(ca,b8,cc){if(!cc){return b8||ca}var b6=bT(ca,cc),b7=bT(b8,cc),cb="";for(var b9 in b7){if(!b6[b9]||b7[b9]){b6[b9]=b7[b9]}}for(var b9 in b6){if(cb!=""){cb+=cc}cb+=b9+(b6[b9]==null?"":"="+b6[b9])}return cb}function bJ(b8,b6,b7){aG[b8]=b7?b6:aW(aG[b8],b6,bj[b8])}function bY(b8,b7){var b6=(b7?b7[b8]:null)||(b7&&b7.id&&aC[b7.id]?aC[b7.id]["parameters"][b8]:null)||aG[b8]||"";return b6}function bS(b6){return U.get(b6)}function a7(b6,b7){U.set(b6,b7);bA.sync(function(){bd()})}function aR(){return U.getAll(c.FORMATTERS.PREFIXED_URL_ENCODE("extendedInfo_"))}function bd(){if(!ab){ab=setTimeout(function(){ab=null;bw()},bR)}}function bw(b7){if(!ah){bd();return}var b6=null;if(!b7){b7=bY(bU,Z)}if(typeof b7=="function"){b7=b7(function(b8){bw(b8)},"visit");if(!b7){return}}P._bcvmc.getCookieAsync("bc_pv_end").then(function(ca){var b9=ah||(X&&ca);bi=o.location.href;bV=o.referrer;if(bi.indexOf(g)!=-1){b6=true}bP=ae();var b8=bq+R+m+aA+"/bc.evi?script=true&"+ar(b6,b9,bi,bV,b7,bP);bA.appendTrackingParams(b8);am(b8).then(function(cb){n.loadScript(cb)})})}function bF(cc,b8){var b7={};var cb=bY("WindowParameters",b8);if(cb&&cb.length){var ca=cb.split(bj.WindowParameters);for(var b6=0;b6<ca.length;b6++){var b9=ca[b6].split("=");b7[b9[0]&&decodeURIComponent(b9[0])]=b9[1]&&decodeURIComponent(b9[1])}}return bY(cc,b8)||b7[cc]||b7[aM[cc]]||b7[bs[cc]]}function bk(b6){return encodeURIComponent(decodeURIComponent(b6))}function bt(){var b8="";var b7=bT(aG.WindowParameters,bj.WindowParameters);for(var b6 in b7){b8+=bk(b6)+(b7[b6]?"="+bk(b7[b6]):"")+bj.WindowParameters}return b8.substring(0,b8.length-1)}function bg(b8,b6,b7){return b6&&b6!=""?(b7?"?":"&")+b8+"="+(encodeURIComponent||escape)(typeof b6=="function"?b6():b6):""}function bW(b8,b7){var b6="";for(var b9 in b8){b6+=bg(b8[b9],bY(b9,b7))}return b6}function bn(){if(X){P._bcvmc.setCookie("bc_pv_end",ah,30000)}}function aL(){bl=false;var b6=bB()-(x()-b5-aD);if(aJ){aa(aJ);aJ=null;if(b6>0){aJ=aF(bz,b6)}else{aS()}}}function aq(){bl=true}if(A){function af(b7,b6){aD=0;n.loadScript("https://"+V+m+aA+"/bc.inv/ci.js?"+(B?"resize=true&":"")+"std="+(o.compatMode=="CSS1Compat")+"&ftid="+b7+"&visit="+b6+bP+bW(bs,Z)+"&"+x())}var b4=false;function av(){if(!b4){b4=true;aD=-99999999;n.loadScript(bq+R+m+aA+"/bc.cobrowse/setup.js?wait=250"+bP);n.loadScript(bq+R+m+aA+"/visitor/cobrowse/script.jsp")}else{if(typeof _bccb!="undefined"){_bccb.initialize(ah)}}}function a1(b6){if(b6==N.InviteChat){af(T.ChatInvitationTemplateVariants,"true")}else{if(b6==N.InviteCall){af(T.CallInvitationTemplateVariants,"true")}else{if(b6==N.GetCoBrowseData){_bccb.receive()}else{if(b6==N.StartCoBrowse){av()}}}}}}if(B){function aV(ca,b7,cb,b9){var b6=b0[ca]&&b0[ca].elements||[o.getElementById(ca)],cc,cd=!b7?"":b0[ca]&&b0[ca][b7];if(b0[ca]&&b0[ca].obj){b0[ca].obj.token=b9}for(var b8=0;b8<b6.length;b8++){cc=b6[b8];if(cb&&cc&&cc.innerHTML!=cd){cc.innerHTML=cd}else{if(!cb&&cc&&cc.src!=b7){cc.src=b7}}}}function bX(b9){var b8=bo[b9];if(b8){var b6=b8.parents;for(var b7=0;b6&&b7<b6.length;b7++){if(b6[b7].parentNode){b6[b7].parentNode.removeChild(b6[b7])}}delete b0[b8.id];delete bo[b9]}}function aU(b6){var b7=b6.id;return bg("bdid",b7)+bg(b7+"_html",b6.html)+bg(b7+"_roid",b6.roid)+bg(b7+"_rdid",b6.rdid)+bg(b7+(b6.tbid?"_tbid":b6.type=="call"?"_pbdid":"_cbdid"),b6.tbid||b6.bdid)}function a0(b7,b6){if(b6){b0[b7.id]=b7;bo[b7.eid||b7.bdid||b7.tbid]=b7}else{az+=aU(b7)}}function bN(b7){var b6=(b7.type=="call"?"&fpbdid=":"&fcbdid=")+b7.id;bh=aX(b7,b6);bH(b7.id,aG,b6)}function bG(b6,b7){if(!aC[b6.id]&&aC[b7]){aC[b6.id]=aC[b7]}}function bv(b7){var b6=(b7.type=="call"?"&spbdid=":"&scbdid=")+b7.bdid+","+b7.id;bh=aX(b7,b6);bH(b7.id,aG,b6)}function aZ(b7){var b6=(b7.type=="call"?"&tpwdid=":"&tcwdid=")+b7.id+","+(b7.window||"")+","+(b7.department||"")+","+(b7.operator||"");bh=aX(b7,b6);bH(b7.id,aG,b6);n.textButtons[b7.id]=b7}}function bu(){var b7=bK.width&7;var b6=bK.height;aB(b6,b7)}function aB(b7,b6){if(b6==e.VisitorMonitorDisabled){aa(aJ);aJ=null}if(b6==e.InactivePageView){aY(bi,"")}if(A){if(b6==e.DelayedChatInvitation||b6==e.DelayedCallInvitation){if(bI){aa(bI)}bI=aF(function(){bI=null;var b8=b6==e.DelayedChatInvitation?T.ChatInvitationTemplateVariants:T.CallInvitationTemplateVariants;af(b8,"false")},(b7-1)*1000+1)}if(b6==1){a1(b7&15)}}}function bz(){aS()}function ao(b6){if(!b6){aJ=aF(bz,bB())}}function aS(b7){if(!ah){aY();return}aD=x()-b5;if(B){var b6="";for(var b8 in b0){b6+=aU(b0[b8])}}am(be(G)+aA+"/bc.vm?blur="+bl+"&poll="+(5000+2*bB())+bP+(B?b6+az:"")+"&"+x()+"&tabIdentifier="+f+"&clientScheme="+a5).then(function(b9){if(B){if(b6||az){n.loadScript(b9.replace("?","?script=true&"))}else{bK.src=b9}}else{bK.src=b9}ao(b7)})}function be(b6){return H?H+"/aid/":bq+b6+m}function aI(b6,b7){aY(null,null,b6,b7)}function bx(){if(B){if(bh!=aw){aY(null,null,null,null,true)}}if(Q){if(aK){var b7=P._bcct||[];P._bcct=[];for(var b6=0;b6<b7.length;b6++){ak(b7[b6])}}}aH()}function b3(){if(P._bcvmc.isCrossDomainEnabled()){return P._bcvmc.hasStorageAccess().then(function(b7){var b6=P._bcvmc.hasContinueChatCookie();var b8=P._bcvmc.hasContinueChatParam(o.location.search);return !b7&&bL()&&(b8||b6)})}else{return Promise.resolve(false)}}function ad(){var ca=P._bcvma||[];var b8=[];P._bcvma=[];for(var b7=0;b7<ca.length||0;b7++){var cb=ca[b7];var b9=(cb||[])[0];if(b9==="pageViewed"){aC[Z.id]={parameters:M(aG)};b8.push(cb)}else{var b6=i[b9];if(b6){b6(cb[1],cb[2])}}}if(b8.length){if(!k){i.pageViewed()}else{for(b7=0;b7<b8.length;b7++){cb=b8[b7];i.pageViewed(cb[1],cb[2])}}}bx();if(a4){b3().then(function(cc){if(cc){a4(P._bcvmc.requestStorageAccess)}})}}if(Q){function bD(b6){P._bcct=P._bcct||[];P._bcct.push(b6)}function ak(b9,cb,b8){if(cb&&b9[bU]){return true}for(var ca in Y){bJ(ca,null,true)}for(var ca in b9){if(b9[ca]&&b9[ca]!=""){bJ(ca,b9[ca])}}if(!b8){b8=bY(bU)}if(typeof b8=="function"){b8=b8(function(cc){ak(b9,cb,cc)},"conversion");if(!b8){return}}if(!cb){var b6=new Image();var b7=bq+R+m+aA+"/bc.vci?"+(!X?"cookie=false&":"")+x()+(bP||bg("wdid",bY("WebsiteDefID")||bY("WebsiteID")))+bW(aM)+bW(Y)+bg("secured",b8);b7=bA.appendTrackingParams(b7);am(b7).then(function(cc){b6.src=cc;ay.push(b6)})}}}function bO(){var b8=screen;var b9=P.devicePixelRatio||(b8.deviceXDPI||1)/(b8.logicalXDPI||1);var b6=b9;var cc=o.createElement("div");var b7="height: 1in; left: -100%; position: absolute; top: -100%; width: 10%;";cc.setAttribute("style",b7);try{o.body.appendChild(cc)}catch(cb){try{o.body.insertBefore(cc,o.body.firstChild)}catch(cb){}}if(Math.abs(b8.width/cc.offsetWidth/10-b6)/b6<0.2){b6=1}var ca=(b8&&b8.width&&b8.height?"&swidth="+(b8.width*b6)+"&sheight="+(b8.height*b6):"")+(cc&&cc.offsetWidth?"&sdpi="+(96*b9):"");try{o.body.removeChild(cc)}catch(cb){}return ca}function aY(ca,cb,b7,b9,b6,b8){if(!aA){ao(b6);return}if(!b8){b8=bY(bU,Z)}if(typeof b8=="function"){b8=b8(function(cc){aY(ca,cb,b7,b9,b6,cc)},"visit");if(!b8){return}}if(B){aw=bh}P._bcvmc.getCookieAsync("bc_pv_end").then(function(cf){var cg=[];var ce=ah||(X&&cf);if(!b7&&!b6){aK=false;cg=P._bcct||[];P._bcct=cg}if(X){if(ce){P._bcvmc.setCookie("bc_pv_end","",0)}}bi=ca||o.location.href;bV=cb||o.referrer;if(bi.indexOf(g)!=-1){b6=true}aD=0;b5=x();if(aJ&&!b6){aa(aJ)}if(Q){var cc=cg[0]&&ak(cg[0],true);if(cg[0]&&!cc){P._bcct=cg.splice(1)}}bK.onload=bu;if(!b7&&!b6){ah=null}var ch=bP=ae();var cd=function(cj){var ci=be(R)+aA+"/bc.pv?script=true&securevm=true&";ci+=aE(b6,b7,b9,ce,bi,bV,b8,ch,cc,a5);ci=cj.appendTrackingParams(ci);am(ci).then(function(ck){if(B){n.loadScript(ck+(b7?"":"&hasbutton="+ba+bh))}else{n.loadScript(ck)}})};bA.sync(cd);ao(b6)})}function ae(){return bg("wdid",bY("WebsiteDefID",Z)||bY("WebsiteID",Z))+bg("pvid",ah)}function aE(cb,b8,cd,cf,b7,b6,ca,b9,cc,ce){var cg="";cg+=!X?"cookie=false":"";cg+="&blur="+bl;cg+="&vm="+!cb;cg+=bg("poll",5000+2*bB());cg+=bO();if(b8){cg+=bg("reinvite",b8);cg+=bg("adi",cd)}else{cg+=bg("vpvid",J("vpvid"));cg+=bg("pve",cf);cg+=bg("url",b7);cg+=bg("referrer",b6);cg+=bW(aM,Z)}cg+=bg("secured",ca);cg+=b9;cg+=bW(bs,Z);cg+=Q?(cc?"":bW(Y)):"";cg+="&"+x();cg+="&tabIdentifier="+f;if(ce){cg+="&clientScheme="+ce}return cg}function ar(b7,ca,b6,cb,b8,cc){var b9=aE(b7,false,null,ca,b6,cb,b8,cc,null);b9+="&"+aR();return b9}function aj(b6){if(P._bcvmw){P._bcvmw.customChatWindow=b6}}function aO(){return a9}function aX(b7,b6){var b8=ax(b7.id);return b8+b6}function ax(b7){var b8=bh;if(aC[b7]){var b9=aC[b7].query;var b6=new RegExp(b9+"(?=&|$)");b8=b8.replace(b6,"")}return b8}function bH(b7,b8,b6){aC[b7]={parameters:M(b8),id:b7,query:b6}}function aH(){if(aQ){return}if(!aA){return}var b6=bq+R+m+aA+L;a8.setupExtendedVisitorInfo(b6);aQ=true}function bQ(b7,b6,b8){setTimeout(function(){var b9=bq+R+m+aA+"/bc.page.view.invitation.result?taskId="+b7+"&polls="+b8;n.loadScript(b9)},b6)}function au(b6){b2().then(function(b7){if(!b7){throw new Error("Missing ChatID")}am(bq+F+m+aA+"/bot/visitor.jsp?cid="+b7).then(function(ca){var b9={};for(var b8 in b6){if(b6.hasOwnProperty(b8)){b9["customField_"+b8]=[b6[b8]]}}n.makeCorsPostRequest(ca,b9)})})}function b2(){return bp().then(function(b6){if(!b6){return null}var b7=b6.split(":");return b7.length>1?b7[0]:null})}function bp(){return an(h)}function an(b6){var b7=by(b6);if(!!b7){return Promise.resolve(b7)}else{return P._bcvmc.getCookieAsync(b6)}}function by(b6){try{return P.sessionStorage&&P.sessionStorage.getItem(b6)}catch(b7){return null}}function br(){bh=""}function bC(b6){a4=b6}function ag(){return !!a4}function bL(){var b6=P.navigator.userAgent.toLowerCase();if(b6.indexOf("safari")!==-1){return b6.indexOf("chrome")===-1}return false}n.addEvent(P,"beforeunload",bn);n.addEvent(P,"focus",aL);n.addEvent(P,"blur",aq);n.pageViewer={set:a2,setVisitorToken:bA.storeToken,boldChatEventTypes:t,emitChatStatusChangeEvent:al,registerChatStatusChangeEventCallback:aN,doExperiments:bc,setAccountID:ac,setDomain:at,setPath:ai,pageViewed:aY,load:ad,reinvite:aI,check:aB,getParameter:bY,setParameter:bJ,getWindowParameter:bF,getWindowParameters:bt,getExtendedVisitorInfo:bS,setExtendedVisitorInfo:a7,setCustomChatWindow:aj,getVisitorID:aO,scheduleInvitationResultCheck:bQ,updateParameters:au,resetStaticQuery:br,registerContinueChatHandler:bC,hasContinueChatHandler:ag};if(B){n.pageViewer.addFloat=bN;n.pageViewer.addStatic=bv;n.pageViewer.addText=aZ;n.pageViewer.addButton=a0;n.pageViewer.removeButton=bX;n.pageViewer.update=aV;n.pageViewer.addExperimentButton=bG}if(Q){n.pageViewer.addConversion=bD;n.pageViewer.conversion=ak;n.pageViewer.link=am;n.pageViewer.removeLink=aP;n.pageViewer.addLink=bE}return n.pageViewer}function y(Y){n.serverTimeOffset=Y-x()}function C(){var Y=Math.floor(Math.random()*9223372037);return((Y===0)?"":Y)+""+Math.floor(Math.random()*((Y===9223372036)?854775808:1000000000))}var n=P._bcvm||{textButtons:{},setTime:y,getCookie:P._bcvmc.getCookie,getCookieAsync:P._bcvmc.getCookieAsync,setCookie:P._bcvmc.setCookie,requestStorageAccess:P._bcvmc.requestStorageAccess,addEvent:s,loadScript:p,makeCorsPostRequest:I,makeGetRequest:l,getPageViewer:K,select:b,isIframeEnabled:E};P._bcvm=n;var i=P.pageViewer||P._bcvm.getPageViewer();P.pageViewer=i;P.pageViewer.load();P._bcvm.tabIdentifier=f}function a(m){var j=false;var i=5000;var g="Clicked";var q="Displayed";var A={elementActivities:[],globalActivities:[]};var h={};var r=A;var p=m.MutationObserver||m.WebKitMutationObserver||m.MozMutationObserver;return{setupExtendedVisitorInfo:v,selectElement:t,sendExtendedVisitorInfo:k};function v(F){if(j){return}var E=m.bc.featureDetection;if(!E.hasCorsXhrSupport()){console.log("Could not set up extended visitor info as XML HTTP request is not supported");return}if(!E.hasJsonSupport()){console.log("Could not set up extended visitor info as JSON is not supported")}var G=new m.XMLHttpRequest();G.open("get",F,true);G.onreadystatechange=x;G.send();j=true}function x(){if(this.readyState===4){if(this.status===200){r=m.JSON.parse(this.responseText)||A;D()}else{console.log("Server responded with status "+this.status+" while getting external signals")}}}function D(){if(!r.elementActivities){return}for(var E=0;E<r.elementActivities.length;E++){var F=r.elementActivities[E];var G=n(F);if(!G){w(F,i)}}}function n(F){F.ref=t(F.selector);if(!F.ref){return false}switch(F.event){case"onclick":F.ref.addEventListener("click",function(G){C(F.id,G)});return true;case"value":case"onchange":F.ref.addEventListener("change",function(G){o(F.id,G)});return true;case"text":if(!p){return true}var E=new p(function(G){B(F.id,G)});E.observe(F.ref,e());return true;case"displayed":if(!p){return true}h[F.id]={display:l(F.ref).display,hasOffsetParent:!!F.ref.offsetParent};var E=new p(function(G){s(F.id,G)});y(E,F.ref,z());return true;default:console.log("Could not set up element activity for event "+F.event)}return true}function t(E){if(!m){return null}return m.document.querySelector(E)}function w(G,F){setTimeout(E,F);function E(){var H=n(G);if(!H){w(G,F*2)}}}function C(G,F){if(!F){return}var E=u(G,F.target,false);if(E){k(E.id,g)}}function o(H,F){if(!F){return}var G=F.target;var E=u(H,G,false);if(E){k(E.id,G.value)}}function B(K,F){if(!F||!F.length){return}for(var H=0;H<F.length;H++){var I;var G=F[H];var J=G.target;var E=u(K,J,false);if(!E){continue}switch(G.type){case"characterData":I=J.textContent;break;case"childList":I=J.innerText;break;default:continue}if(I){k(E.id,I)}}}function s(L,G){if(!G||!G.length){return}for(var I=0;I<G.length;I++){var H=G[I];var K=H.target;if(H.type!=="attributes"&&H.type!=="style"){continue}var E=u(L,K,true);if(!E){continue}var J=l(K);var F=h[L];h[L]={display:J.display,hasOffsetParent:!!K.offsetParent};if((J.display!=="none"&&F.display!==J.display)||K.offsetParent&&!F.hasOffsetParent){k(E.id,q)}}}function u(I,H,E){if(!r.elementActivities){return null}for(var F=0;F<r.elementActivities.length;F++){var G=r.elementActivities[F];if(I!==G.id){continue}if(H===G.ref||(E&&f(H,G.ref))){return G}}return null}function f(F,E){if(!E){return false}if(F===E){return true}return f(F,E.parentElement)}function l(E){return m.getComputedStyle?m.getComputedStyle(E):E.style}function k(E,F){if(!m.pageViewer||!m.pageViewer.setExtendedVisitorInfo){return}m.pageViewer.setExtendedVisitorInfo(E,F)}function y(E,G,F){if(!G){return}E.observe(G,F);y(E,G.parentElement,F)}function e(){return{characterData:true,childList:true}}function z(){return{attributes:true,attributeFilter:["style","class"]}}}new d(document,window,".boldchat.com",true,true,true,true,"_bcvm_vid_","_bcvm_vrid_",365,"ci","vmp","vms","livechat","",function(e,f){return(f?2:1)*(e>=60000?(e>=600000?(e>=3600000?(e>=14400000?(e>=43200000?300:180):120):60):30):(e>=10000?(e>=30000?30:30):30))*1000},"bc_ignore_vm","/api/v1/extendedvisitorinfo/setup",false)})();