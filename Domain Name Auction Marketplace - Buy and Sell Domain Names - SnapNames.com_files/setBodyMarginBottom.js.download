//Adds a "margin-bottom" attribute to the body element of a page, sets it to the current height of the footer, and sets the <footer> CSS to "bottom: 0" if there isn't a scrollbar
var didResize = false;
var scrollBar;

function setBodyMarginBottom()
{
	if (scrollBar != true){
		jQuery("body").css("margin-bottom", jQuery("footer").height());
	}
}

function checkScrollBar() {
	var bodyHeight = jQuery("body").height() + parseInt(jQuery("body").css("margin-bottom").replace("px",""), 10);

	if (bodyHeight > jQuery(window).height()) {
		scrollBar = true;
		jQuery("footer").css("bottom", "");
	}
	else {
		scrollBar = false;
		jQuery("footer").css("bottom", 0);
	}
}

checkScrollBar();
setBodyMarginBottom();


jQuery(window).on("resize", function()
{
	didResize = true;
});

setInterval(function()
{
	if(didResize)
	{
		checkScrollBar();
		didResize = false;
		setBodyMarginBottom();
	}
}, 250);
